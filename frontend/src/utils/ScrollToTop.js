// Импортируем хук useEffect из React
// useEffect позволяет выполнять побочные эффекты
// (side effects) в функциональных компонентах:
// запросы к API, подписки, работа с DOM и т.д.
import { useEffect } from 'react'

// Импортируем хук useLocation из react-router-dom
// useLocation предоставляет информацию о текущем маршруте:
// pathname, search, hash и др.
// Мы используем его, чтобы отследить момент смены "страницы"
import { useLocation } from 'react-router-dom'

// Компонент ScrollToTop не отображает никакой UI
// Его задача - следить за сменой маршрута
// и при каждом переходе прокручивать страницу вверх
const ScrollToTop = () => {

    // Деструктурируем pathname из объекта location
    // pathname - это текущий путь в адресной строке:
    // "/", "/profile", "/products/1" и т.д.
    // При каждом переходе между маршрутами pathname меняется
    const { pathname } = useLocation()

    // useEffect выполнится:
    // 1) после первого рендера компонента
    // 2) каждый раз, когда изменится pathname
    useEffect(() => {

        // window.scrollTo - встроенный метод браузера
        // Он управляет прокруткой страницы (scroll)
        // Мы указываем координаты, куда нужно прокрутить страницу
        window.scrollTo({

            // top: 0 - прокрутка к самому верху страницы
            // 0 означает верхнюю границу документа
            top: 0,

            // left: 0 - прокрутка влево
            // Обычно не критично, но добавляется для полноты
            left: 0,

            // behavior определяет поведение прокрутки
            // 'smooth' - плавная анимация скролла
            // 'auto' или отсутствие свойства - мгновенный переход
            // В продакшене часто убирают для более резкого UX
            behavior: 'smooth',
        })

        // Этот эффект не возвращает функцию очистки,
        // потому что мы ничего не подписываем и не создаём ресурсов
    }, [pathname])
    // [pathname] - массив зависимостей
    // Эффект будет срабатывать только тогда,
    // когда изменится pathname (то есть маршрут)

    // Компонент ничего не рендерит в DOM
    // Он существует исключительно ради логики
    return null
}
// Экспортируем компонент, чтобы подключить его
// один раз внутри BrowserRouter (обычно в App.jsx)
export default ScrollToTop